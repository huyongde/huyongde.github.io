---
layout: default
---
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">{{ page.title }}</h1>
    {% include post-tag.html %}
    <p class="post-meta"><time datetime="{{ page.date | date_to_xmlschema }}" itemprop="datePublished">{{ page.date | date: "%b %-d, %Y" }}</time>{% if page.author %} • <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">{{ page.author }}</span></span>{% endif %}</p>
  </header>

  <div class="post-content" itemprop="articleBody">
    {{ content }}
  </div>


</article>

<hr>

<div style="float:left;">
<h3 class="page-heading">最新文章:</h3>

    {% for post in site.related_posts limit:5 %}
      <li>
      <span class="post-meta">{{ post.date | date: "%b %-d, %Y" }}</span>

        <h5>
          <a href="{{ post.url | prepend: site.baseurl }}">{{ post.title }}</a>
        </h5>
      </li>
    {% endfor %}
</div>

<!--
<div style="float:right;">
    <aside>
    <h3>相关文章:</h3>
    <dl>
        {% assign hasSimilar = '' %}
        {% for post in site.posts %}
        {% assign isRelated = false %}
        {% for tag in post.tags %}
        {% for myTag in page.tags %}
        {% if tag == myTag %}
        {% assign isRelated = true %}
        {% endif %}
        {% endfor %}
        {% endfor %}

        {% if isRelated == true and hasSimilar.size < 6  %}
      <li>
      <span class="post-meta">{{ post.date | date: "%b %-d, %Y" }}</span>

        <h5>
          <a href="{{ post.url | prepend: site.baseurl }}">{{ post.title }}</a>
        </h5>
      </li>
        {% endif %}
        {% capture hasSimilar %}{{ hasSimilar }}*{% endcapture %}
        {% endfor %}
    </dl>
    </aside>
</div>
-->


<div style="float:right;">
    {% assign hasSimilar = '' %}
    {% for post in site.related_posts %}
        {% assign postHasSimilar = false %}
        {% for tag in post.tags %}
            {% for thisTag in page.tags %}
                {% if postHasSimilar == false and hasSimilar.size < 6 and post != page and tag == thisTag %}
                    {% if hasSimilar.size == 0 %}
                        <h3 class="page-heading">相关文章:</h3>
                        <ul>
                    {% endif %}
                    <li> <span class="post-meta">{{ post.date | date: "%b %-d, %Y" }}</span>

                    <h5> <a href="{{ post.url | prepend: site.baseurl }}">{{ post.title }}</a> </h5>
                    {% capture hasSimilar %}{{ hasSimilar }}*{% endcapture %}
                    {% assign postHasSimilar = true %}
                {% endif %}
            {% endfor %}
        {% endfor %}
    {% endfor %}
    {% if hasSimilar.size > 0 %}
    </ul>
    {% endif %}
</div>
